<!DOCTYPE html>
<html>
<head>
  <title>root</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="icon" href="favicon.svg" type="image/x-icon">
</head>
<body>
  <pre>
    <h1>No connections configured...</h1>
  </pre>
  <cell>
  <div id="shell"><p><span>> </span><span></span><span class="blink">&#x2588;</span></p></div>
  </cell>

  <div id="interlaced"></div>  
  <div id="glare"></div>
</body>
<script>
  function submit(text) {
    console.log(text);
    if (text === 'clear' || text === 'cls') {
      const shell = document.getElementById('shell');
    
      while (shell.lastChild && shell.lastChild !== shell.firstElementChild) {
       shell.removeChild(shell.firstChild);
      } 
    } else if (text === 'multiplication') {
      console.log(text)
      window.location.replace('math/multiplication/facts.html');
    }
  };
  function input(k) {
    const shell = document.getElementById('shell');
    const prompt = shell.lastElementChild.firstElementChild.nextElementSibling;
    const cursor = shell.lastElementChild.lastElementChild;

    if (k === "Backspace") {
      // Remove last character
      let text = prompt.innerText;
      prompt.innerText = text.slice(0, -1);
    } else if (k === "Enter") {
      if (prompt.innerText.length > 0) {
        const newline = document.createElement('p');
        newline.appendChild(document.createElement('span'));
        newline.lastElementChild.innerText = '> ';
        newline.appendChild(document.createElement('span'));
        newline.appendChild(cursor);
        shell.appendChild(newline);
        submit(prompt.innerText);
      }
    } else if (k.length === 1) {
      // Regular printable characters (letters, numbers, symbols)
      prompt.innerText += k;
  };
  };
/*$(document).ready(function () {
  $(document).on('keydown', input(e.key))
});
*/

$(document).ready(function () {
  $(document).on('keydown', function (e) { 
    input(e.key);
    e.preventDefault();
  });
});

</script>

</html>